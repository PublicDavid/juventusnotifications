name: 9. DEBUG PERMISSIONS

on:
  workflow_dispatch: # Alleen handmatig starten

jobs:
  debug-the-token:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository code # <-- DEZE STAP IS TOEGEVOEGD
        uses: actions/checkout@v4

      - name: 'Stap 1: Probeer de variabele te LEZEN met gh'
        env:
          GH_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          echo "Poging om DEBUG_VAR te lezen..."
          gh variable list
          
      - name: 'Stap 2: Probeer de variabele te SCHRIJVEN met gh'
        env:
          GH_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          echo "Poging om DEBUG_VAR te schrijven..."
          gh variable set DEBUG_VAR --body "new_value_set_by_action"
          echo "Schrijven succesvol!"
